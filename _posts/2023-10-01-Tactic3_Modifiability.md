---
layout: single
title:  "[소프트웨어아키텍처] 전술(3) - 변경용이성"
categories: Achitecture
toc: true
---


# 변경 용이성
특정 변경요구사항이 시스템에 반영될 수 있도록 하는 소프트웨어의 능력을 의미한다. 변경 용이성이 낮은 경우 변경 사항에 따라 새로운 설계, 구현, 테스트, 배포 되어야 하므로 많은 시간과 비용이 소모된다.
{: .notice--info}

## 1. 모듈 크기 감소

### split module
모듈이 많은 기능을 포함하고 있다면 당연하게도 변경 비용이 클 것이다. 모듈을 여러 개의 작은 모듈로 정제하여 향후 변경 시 평균 비용을 감소시킨다.

## 2. 응집성 증가

### increase semantic coherence
increase semantic coherence(의미론적 일관성 증가)란 하나의 모듈에서 A 책임, B 책임이 같은 목적을 수행하지 않을 경우 이 들은 서로 다른 모듈에 두어야한다. 즉, 새로운 모듈을 생성하거나 기존 모듈에 책임을 이동시킨다.

## 3. 결합성 감소

### encapsulate
캡슐화는 모듈에 명시적 인터페이스를 도입한다. 즉 시스템 내부 구현을 외부로부터 숨기고 API를 통해서만 통신한다. 

### use an intermediary
책임 A와 책임 B 사이에 의존성이 있을 경우 중개자를 사용하여 의존성을 끊을 수 있다.
<div class= "notice">
<h4> 예시 </h4>
<ui>
    <li> API 게이트웨이 </li> 
많은 마이크로서비스 아키텍처에서는 여러 서비스를 통합하여 단일 API 엔드포인트로 제공하기 위해 API 게이트웨이를 사용한다. 사용자가 한 번의 API 호출로 여러 서비스의 데이터를 요청할 때, API 게이트웨이가 각 서비스로부터 필요한 데이터를 가져와 통합한 후 응답을 반환한다.
    <li> 로드 밸런서 </li> 
사용자의 요청을 서버 클러스터 내의 다양한 머신으로 분산시키기 위해 로드 밸런서를 사용한다. 예로 AWS의 Elastic Load Balancing(ELB)이나 Nginx가 로드 밸런서로 사용된다.
    <li> 메시지 큐 </li> 
비동기 통신이 필요한 경우, 메시지를 중간에 저장하고 다른 서비스나 컴포넌트가 그 메시지를 나중에 처리하게 하는 중재자로 메시지 큐를 사용한다. 예로 RabbitMQ, Kafka와 같은 메시지 브로커가 이에 해당한다.
</ui>
</div>


### restrict dependencies
이 전술은 모듈이 상호작용하거나 의존하는 모듈을 제한한다.

<div class= "notice">
<h4> 예시 </h4>
<ui>
    <li> 마이크로서비스 아키텍처 </li> 
각 마이크로서비스는 독립적인 기능 단위로 설계되어, 다른 서비스와의 종속성을 최소화합니다. 이렇게 함으로써 하나의 서비스가 변경되거나 실패하더라도 전체 시스템에 큰 영향을 주지 않게 됩니다.
    <li> 모듈화 </li> 
큰 소프트웨어 프로젝트에서는 종종 모듈 또는 패키지로 코드를 분할하여 각 모듈 간의 종속성을 제한합니다. 이를 통해 각 모듈을 독립적으로 개발, 테스트, 배포할 수 있습니다.
    <li> 의존성 역전 원칙(Dependency Inversion Principle) </li> 
객체 지향 설계 원칙 중 하나로, 상위 수준의 모듈이 하위 수준의 모듈에 직접적으로 의존하지 않게 하는 원칙입니다. 대신 인터페이스나 추상화를 통해 의존성을 역전시켜, 상위 수준의 모듈과 하위 수준의 모듈 간의 직접적인 종속성을 줄입니다.
    <li> 서드 파티 라이브러리 사용 제한 </li> 
외부 라이브러리나 프레임워크의 과도한 사용은 종속성 문제를 야기할 수 있습니다. 필요한 라이브러리만 선택적으로 사용하고, 필요하지 않은 경우에는 제거하여 종속성을 줄이는 전략을 취할 수 있습니다.
    <li> 데이터베이스 분리 </li> 
여러 서비스나 애플리케이션이 동일한 데이터베이스를 공유하면, 데이터베이스 스키마 변경 시 모든 서비스에 영향을 줄 수 있습니다. 각 서비스나 애플리케이션에 독립적인 데이터베이스를 할당함으로써 이러한 종속성을 제한할 수 있습니다.
</ui>
</div>



### refactor
리팩토링은 코드의 구조를 개선하거나 정리하는 과정이며, 기능은 바뀌지 않아야한다. 두 개의 모듈이 중복되는 경우 리펙토링을 통해 중복코드를 한 곳으로 모아서 관리하여 코드를 더 쉽고 빠르게 변경하도록 관리한다.

### abstract common service
두 모듈이 유사한 서비스를 제공할 때 좀 더 추상적인 형식으로 한번만 서비스를 구현하도록 한다.

## 4. 지연 바인딩

### defer binding
개발 시간 후에 바인딩 결정을 허용한다. 

```markdown
- 프로그램에서 객체가 어떤 타입에 속하거나 함수 호출이 어떤 함수를 실행할 지 런타임 까지 결정하지 않고 늦추는 기술
- 프로그램의 유연성을 증가시킴
- 추상화를 통해 지연 바인딩을 구현하는 경우, 시스템/프로그램 변경 및 확장 시 다른 부분에 영향을 미치지 않음
```